/*! For license information please see main-require.a092bc3e1065cfff405f.cjs.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./dirname.cjs":t=>{t.exports=require("./src/utils/dirname.cjs")},fontkit:t=>{t.exports=require("fontkit")},"image-size":t=>{t.exports=require("image-size")},sax:t=>{t.exports=require("sax")},path:t=>{t.exports=require("path")},"./src/config.js":(t,e,s)=>{s.r(e),s.d(e,{config:()=>u,getConfig:()=>l,getFonts:()=>d,preloadFonts:()=>h,setFontDir:()=>a,setFontFamilyMappings:()=>c});var r=s("path"),n=s("fontkit");const i={},o={},a=function(t){return i.fontDir=t,this},c=function(t){return i.fontFamilyMappings=t,this},h=()=>{var t=i.fontFamilyMappings;for(const[s,a]of Object.entries(t)){const t=r.join(i.fontDir,a);try{o[s]=n.openSync(t)}catch(e){console.warn(`Could not load font file for ${s}`,e)}}},l=()=>i,d=()=>o,u={setFontDir:a,setFontFamilyMappings:c,preloadFonts:h,getConfig:l,getFonts:d}},"./src/dom/Attr.js":(t,e,s)=>{s.r(e),s.d(e,{Attr:()=>i});var r=s("./src/dom/Node.js"),n=s("./src/utils/namespaces.js");class i extends r.Node{constructor(t,e,s){super(t,{nodeValue:"",...e},s),this.nodeName=s===n.html?t.toLowerCase():t,this.nodeType=r.Node.ATTRIBUTE_NODE,this.ownerElement=null}get value(){return this.nodeValue}set value(t){this.nodeValue=t}get name(){return this.nodeName}}},"./src/dom/CharacterData.js":(t,e,s)=>{s.r(e),s.d(e,{CharacterData:()=>a});var r=s("./src/dom/Node.js"),n=s("./src/utils/objectCreationUtils.js"),i=s("./src/dom/mixins/NonDocumentTypeChildNode.js"),o=s("./src/dom/mixins/ChildNode.js");class a extends r.Node{constructor(t,e){super(t,e),this.data=this.nodeValue}appendData(t){this.data+=t}deleteData(t,e){this.data=this.data.slice(0,t)+this.data.slice(0,t+e)}insertData(t,e){this.data=this.data.slice(0,t)+e+this.data.slice(t)}replaceData(t,e,s){this.deleteData(t,e),this.insertData(t,s)}substringData(t,e){this.data=this.data.substr(t,e)}get length(){return this.data.length}}(0,n.mixin)(i.NonDocumentTypeChildNode,a),(0,n.mixin)(o.ChildNode,a)},"./src/dom/Comment.js":(t,e,s)=>{s.r(e),s.d(e,{Comment:()=>i});var r=s("./src/dom/CharacterData.js"),n=s("./src/dom/Node.js");class i extends r.CharacterData{constructor(t,e){super(t,e),this.nodeType=n.Node.COMMENT_NODE}}},"./src/dom/CustomEvent.js":(t,e,s)=>{s.r(e),s.d(e,{CustomEvent:()=>n});var r=s("./src/dom/Event.js");class n extends r.Event{constructor(t,e={}){super(t),this.detail=e.detail||null,this.cancelable=e.cancelable||!1}}},"./src/dom/Document.js":(t,e,s)=>{s.r(e),s.d(e,{DOMImplementation:()=>P,Document:()=>v});var r=s("./src/dom/Node.js"),n=s("./src/dom/Comment.js"),i=s("./src/dom/Text.js"),o=s("./src/dom/Attr.js"),a=s("./src/dom/DocumentFragment.js"),c=s("./src/dom/html/HTMLLinkElement.js"),h=s("./src/dom/html/HTMLScriptElement.js"),l=s("./src/dom/html/HTMLImageElement.js"),d=s("./src/dom/html/HTMLElement.js"),u=s("./src/dom/mixins/elementAccess.js"),m=s("./src/utils/objectCreationUtils.js"),p=s("./src/dom/svg/SVGSVGElement.js"),E=s("./src/dom/svg/SVGPathElement.js"),N=s("./src/dom/svg/SVGTextContentElement.js"),g=s("./src/dom/svg/SVGGraphicsElement.js"),_=s("./src/dom/mixins/ParentNode.js"),f=s("./src/utils/namespaces.js"),x=s("./src/dom/DocumentType.js"),T=s("./src/dom/mixins/NonElementParentNode.js"),w=s("./src/dom/svg/SVGRectElement.js"),y=s("./src/dom/svg/SVGCircleElement.js"),S=s("./src/dom/svg/SVGLineElement.js"),b=s("./src/dom/svg/SVGEllipseElement.js"),M=s("./src/dom/svg/SVGForeignObjectElement.js"),j=s("./src/dom/svg/SVGImageElement.js");function C(t,e){for(let s=t.firstChild;null!=s;s=s.nextSibling)if(s.nodeType===r.Node.ELEMENT_NODE&&s.nodeName===e)return s;return null}const G=(t,e)=>{switch(t){case f.svg:return(t=>{switch(t.toLowerCase()){case"svg":return p.SVGSVGElement;case"path":return E.SVGPathElement;case"circle":return y.SVGCircleElement;case"ellipse":return b.SVGEllipseElement;case"line":return S.SVGLineElement;case"rect":return w.SVGRectElement;case"foreignObject":return M.SVGForeignObjectElement;case"image":return j.SVGImageElement;case"text":case"tspan":case"tref":case"altglyph":case"textpath":return N.SVGTextContentElement;default:return g.SVGGraphicsElement}})(e);case f.html:default:return(t=>{switch(t.toLowerCase()){case"img":return l.HTMLImageElement;case"link":return c.HTMLLinkElement;case"script":return h.HTMLScriptElement;default:return d.HTMLElement}})(e)}},A={xml:{"":!0,"1.0":!0,"2.0":!0},core:{"":!0,"2.0":!0},html:{"":!0,"1.0":!0,"2.0":!0},xhtml:{"":!0,"1.0":!0,"2.0":!0}},P={hasFeature(t,e){const s=A[(t||"").toLowerCase()];return s&&s[e||""]||!1},createDocumentType(t,e,s){return new x.DocumentType(t,{publicId:e,systemId:s,ownerDocument:this})},createDocument(t,e,s){const r=new v(t);if(s){if(s.ownerDocument)throw new Error("the object is in the wrong Document, a call to importNode is required");s.ownerDocument=r,r.appendChild(s)}return e&&r.appendChild(r.createElementNS(t,e)),r},createHTMLDocument(t=""){const e=new v(f.html),s=e.createElement("html"),r=e.createElement("head"),n=e.createElement("title");return n.appendChild(e.createTextNode(t)),r.appendChild(n),s.appendChild(r),s.appendChild(e.createElement("body")),e.appendChild(s),e}};class v extends r.Node{constructor(t){super("#document",{},t),this.nodeType=r.Node.DOCUMENT_NODE,this.implementation=P,this.defaultView=null}createAttribute(t){return this.namespaceURI===f.html&&(t=t.toLowerCase()),this.createAttributeNS(null,t,!0)}createAttributeNS(t,e,s=!1){return new o.Attr(e,{ownerDocument:this,local:s},t)}createComment(t){return new n.Comment("#comment",{nodeValue:t,ownerDocument:this})}createDocumentFragment(t){return new a.DocumentFragment("#document-fragment",{ownerDocument:this})}createElement(t){return this.createElementNS(this.namespaceURI,t,!0)}createElementNS(t,e,s=!1){return new(G(t,e))(e,{ownerDocument:this,local:s},t)}createTextNode(t){return new i.Text("#text",{nodeValue:t,ownerDocument:this})}get compatMode(){return"CSS1Compat"}get body(){return C(this.documentElement,"BODY")}get head(){return C(this.documentElement,"HEAD")}get documentElement(){return this.lastChild}}(0,m.mixin)(u.elementAccess,v),(0,m.mixin)(_.ParentNode,v),(0,m.mixin)(T.NonElementParentNode,v)},"./src/dom/DocumentFragment.js":(t,e,s)=>{s.r(e),s.d(e,{DocumentFragment:()=>c});var r=s("./src/dom/Node.js"),n=s("./src/utils/objectCreationUtils.js"),i=s("./src/dom/mixins/elementAccess.js"),o=s("./src/dom/mixins/ParentNode.js"),a=s("./src/dom/mixins/NonElementParentNode.js");class c extends r.Node{constructor(t,e){super(t,e),this.nodeType=r.Node.DOCUMENT_FRAGMENT_NODE}}(0,n.mixin)(i.elementAccess,c),(0,n.mixin)(o.ParentNode,c),(0,n.mixin)(a.NonElementParentNode,c)},"./src/dom/DocumentType.js":(t,e,s)=>{s.r(e),s.d(e,{DocumentType:()=>o});var r=s("./src/dom/Node.js"),n=s("./src/utils/objectCreationUtils.js"),i=s("./src/dom/mixins/ChildNode.js");class o extends r.Node{constructor(t,e){super(t,e),this.nodeType=r.Node.DOCUMENT_TYPE_NODE,this.name=t;const{publicId:s,systemId:n}=e;this.publicId=s||"",this.systemId=n||""}}(0,n.mixin)(i.ChildNode,o)},"./src/dom/Element.js":(t,e,s)=>{s.r(e),s.d(e,{Element:()=>E});var r=s("./src/dom/Node.js"),n=s("./src/dom/mixins/ParentNode.js"),i=s("./src/dom/mixins/elementAccess.js"),o=s("./src/dom/html/HTMLParser.js"),a=s("./src/dom/DocumentFragment.js"),c=s("./src/utils/objectCreationUtils.js"),h=s("./src/utils/tagUtils.js"),l=s("./src/utils/mapUtils.js"),d=s("./src/utils/strUtils.js"),u=s("./src/dom/mixins/NonDocumentTypeChildNode.js"),m=s("./src/dom/mixins/ChildNode.js"),p=s("./src/utils/namespaces.js");class E extends r.Node{constructor(t,e,s){var r;super(t,e,s),this.style=(r=this,new Proxy(r,{get(t,e){const s=t.getAttribute("style")||"",n=(0,l.cssToMap)(s);return"cssText"===e?s:"setProperty"===e?function(t,e="",s=""){r.style[t]=e+(s?` !${s}`:"")}:(e=(0,d.decamelize)(e),n.has(e)?n.get(e):"")},set(t,e,s){if("css-text"===(e=(0,d.decamelize)(e)))return t.setAttribute("style",(0,l.mapToCss)((0,l.cssToMap)(s))),!0;{s=(0,d.hexToRGB)(s.toString());const r=t.getAttribute("style")||"",n=(0,l.cssToMap)(r);return n.set(e,s),t.setAttribute("style",(0,l.mapToCss)(n)),!0}}})),this.tagName=this.nodeName}getAttribute(t){const e=this.getAttributeNode(t);return e?e.value:null}getAttributeNode(t){return((t,e)=>(t.namespaceURI===p.html&&t.ownerDocument.namespaceURI===p.html&&(e=e.toLowerCase()),[...t.attrs].find((t=>t.name===e))))(this,t)}getAttributeNodeNS(t,e){return((t,e,s)=>(e||(e=null),[...t.attrs].find((t=>t.localName===s&&t.namespaceURI===e))))(this,t,e)}getAttributeNS(t,e){const s=this.getAttributeNodeNS(t,e);return s?s.value:null}getBoundingClientRect(){throw new Error("Only implemented for SVG Elements")}hasAttribute(t){return!!this.getAttributeNode(t)}hasAttributeNS(t,e){return!!this.getAttributeNodeNS(t,e)}matches(t){return this.matchWithScope(t,this)}removeAttribute(t){const e=this.getAttributeNode(t);return e&&this.removeAttributeNode(e),e}removeAttributeNode(t){if(!this.attrs.delete(t))throw new Error("Attribute cannot be removed because it was not found on the element");return t}removeAttributeNS(t,e){const s=this.getAttributeNodeNS(t,e);return s&&this.removeAttributeNode(s),s}setAttribute(t,e){this.namespaceURI===p.html&&this.ownerDocument.namespaceURI===p.html&&(t=t.toLowerCase());let s=this.getAttributeNode(t);s||(s=this.ownerDocument.createAttributeNS(null,t,!0),this.setAttributeNode(s)),s.value=e}setAttributeNode(t){this.attrs.add(t),t.ownerElement=this}setAttributeNS(t,e,s){const[r,n,i]=((t,e)=>{let s=null,r=e;if(t||(t=null),e.includes(":")&&([s,r]=e.split(":")),!t&&s)throw new Error("Namespace Error");if("xml"===s&&t!==p.xml)throw new Error("Namespace Error");if(("xmlns"===s||"xmlns"===e)&&t!==p.xmlns)throw new Error("Namespace Error");if("xmlns"!==s&&"xmlns"!==e&&t===p.xmlns)throw new Error("Namespace Error");return[t,s,r]})(t,e);let o=this.getAttributeNodeNS(r,i);o||(o=this.ownerDocument.createAttributeNS(r,e),this.setAttributeNode(o)),o.value=s,this.attrs.add(o)}get attributes(){return[...this.attrs]}get className(){return this.getAttribute("class")}set className(t){this.setAttribute("class",t)}get id(){return this.getAttribute("id")||""}set id(t){return this.setAttribute("id",t)}get innerHTML(){return this.childNodes.map((t=>t.nodeType===r.Node.TEXT_NODE?(0,d.htmlEntities)(t.data):t.nodeType===r.Node.CDATA_SECTION_NODE?(0,d.cdata)(t.data):t.nodeType===r.Node.COMMENT_NODE?(0,d.comment)(t.data):t.outerHTML)).join("")}set innerHTML(t){for(;this.firstChild;)this.removeChild(this.firstChild);(0,o.HTMLParser)(t,this)}get outerHTML(){return(0,h.tag)(this)}set outerHTML(t){var e=new a.DocumentFragment;(0,o.HTMLParser)(t,e),this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this)}}(0,c.mixin)(n.ParentNode,E),(0,c.mixin)(i.elementAccess,E),(0,c.mixin)(u.NonDocumentTypeChildNode,E),(0,c.mixin)(m.ChildNode,E)},"./src/dom/Event.js":(t,e,s)=>{s.r(e),s.d(e,{Event:()=>r});class r{constructor(t){this.type=t,this.cancelable=!1,this.defaultPrevented=!1,this.target=null}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}}},"./src/dom/EventTarget.js":(t,e,s)=>{s.r(e),s.d(e,{EventTarget:()=>n});const r=Symbol("private properties");class n{constructor(){this[r]={},this[r].listeners={}}addEventListener(t,e){t in this[r].listeners||(this[r].listeners[t]=[]),this[r].listeners[t].push(e)}dispatchEvent(t){if(!(t.type in this[r].listeners))return!0;var e=this[r].listeners[t.type];return t.target=this,e.forEach((function(e){e(t)})),!t.defaultPrevented}removeEventListener(t,e){if(t in this[r].listeners)for(var s=this[r].listeners[t],n=0,i=s.length;n<i;n++)if(s[n]===e)return void s.splice(n,1)}}},"./src/dom/Node.js":(t,e,s)=>{s.r(e),s.d(e,{Node:()=>c});var r=s("./src/utils/objectCreationUtils.js"),n=s("./src/dom/EventTarget.js"),i=s("./src/utils/tagUtils.js"),o=s("./src/utils/namespaces.js");const a={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};class c extends n.EventTarget{constructor(t="",e={},s=null){if(super(),t.includes(":")&&!e.local?[this.prefix,this.localName]=t.split(":"):(this.localName=t,this.prefix=null),this.nodeName=s===o.html?t.toUpperCase():t,this.namespaceURI=s,this.nodeType=c.ELEMENT_NODE,this.nodeValue=null!=e.nodeValue?e.nodeValue:null,this.childNodes=[],this.attrs=e.attrs||new Set,this.ownerDocument=e.ownerDocument||null,this.parentNode=null,e.childNodes)for(let r=0,n=e.childNodes.length;r<n;++r)this.appendChild(e.childNodes[r])}appendChild(t){return this.insertBefore(t)}cloneNode(t=!1){const e=(0,i.cloneNode)(this);return t&&this.childNodes.forEach((function(s){const r=s.cloneNode(t);e.appendChild(r)})),e}contains(t){if(t===this)return!1;for(;t.parentNode;){if(t===this)return!0;t=t.parentNode}return!1}getRootNode(){return this.parentNode&&this.nodeType!==c.DOCUMENT_NODE?this.parentNode.getRootNode():this}hasChildNodes(){return!!this.childNodes.length}insertBefore(t,e){let s=this.childNodes.indexOf(e);if(-1===s&&(s=this.childNodes.length),t.nodeType===c.DOCUMENT_FRAGMENT_NODE){let s,r=e;for(;s=t.childNodes.pop();)this.insertBefore(s,r),r=s;return t}return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=this,this.childNodes.splice(s,0,t),t}isDefaultNamespace(t){switch(this.nodeType){case c.ELEMENT_NODE:return this.prefix?this.hasAttribute("xmlns")?this.getAttribute("xmlns"):!!this.parentNode&&this.parentNode.isDefaultNamespace(t):this.namespaceURI===t;case c.DOCUMENT_NODE:return this.documentElement.isDefaultNamespace(t);case c.ENTITY_NODE:case c.NOTATION_NODE:case c.DOCUMENT_TYPE_NODE:case c.DOCUMENT_FRAGMENT_NODE:return!1;case c.ATTRIBUTE_NODE:return!!this.ownerElement&&this.ownerElement.isDefaultNamespace(t);default:return!!this.parentNode&&this.parentNode.isDefaultNamespace(t)}}isEqualNode(t){this.normalize(),t.normalize();let e=this.nodeName===t.nodeName;return e=e&&this.localName===t.localName,e=e&&this.namespaceURI===t.namespaceURI,e=e&&this.prefix===t.prefix,e=e&&this.nodeValue===t.nodeValue,e=e&&this.childNodes.length===t.childNodes.length,!!e&&(e=e&&!this.childNodes.reduce(((e,s,r)=>e&&s.isEqualNode(t.childNodes[r])),!0),this.nodeType===c.DOCUMENT_TYPE_NODE&&t.nodeType===c.DOCUMENT_TYPE_NODE&&(e=e&&this.publicId===t.publicId,e=e&&this.systemId===t.systemId,e=e&&this.internalSubset===t.internalSubset),e)}isSameNode(t){return this===t}lookupNamespacePrefix(t,e){if(this.namespaceURI&&this.namespaceURI===t&&this.prefix&&e.lookupNamespaceURI(this.prefix)===t)return this.prefix;for(const[s,r]of this.attrs.entries()){if(!s.includes(":"))continue;const[n,i]=s.split(":");if("xmlns"===n&&r===t&&e.lookupNamespaceURI(i)===t)return i}return this.parentNode?this.parentNode.lookupNamespacePrefix(t,e):null}lookupNamespaceURI(t){switch(this.nodeType){case c.ELEMENT_NODE:if(null!=this.namespaceURI&&this.prefix===t)return this.namespaceURI;for(const[e,s]of this.attrs.entries()){if(!e.includes(":"))continue;const[r,n]=e.split(":");if("xmlns"===r&&n===t)return null!=s?s:null;if("xmlns"===n&&null==t)return null!=s?s:null}return this.parentNode?this.parentNode.lookupNamespaceURI(t):null;case c.DOCUMENT_NODE:return this.documentElement.lookupNamespaceURI(t);case c.ENTITY_NODE:case c.NOTATION_NODE:case c.DOCUMENT_TYPE_NODE:case c.DOCUMENT_FRAGMENT_NODE:return null;case c.ATTRIBUTE_NODE:return this.ownerElement?this.ownerElement.lookupNamespaceURI(t):null;default:return this.parentNode?this.parentNode.lookupNamespaceURI(t):null}}lookupPrefix(t){if(!t)return null;switch(this.nodeType){case c.ELEMENT_NODE:return this.lookupNamespacePrefix(t,this);case c.DOCUMENT_NODE:return this.documentElement.lookupNamespacePrefix(t);case c.ENTITY_NODE:case c.NOTATION_NODE:case c.DOCUMENT_FRAGMENT_NODE:case c.DOCUMENT_TYPE_NODE:return null;case c.ATTRIBUTE_NODE:return this.ownerElement?this.ownerElement.lookupNamespacePrefix(t):null;default:return this.parentNode?this.parentNode.lookupNamespacePrefix(t):null}}normalize(){const t=[];for(const e of this.childNodes){const s=t.shift();if(s){if(e.nodeType===c.TEXT_NODE){if(!e.data){t.unshift(s);continue}if(s.nodeType===c.TEXT_NODE){const r=this.ownerDocument.createTextNode(s.data+e.data);t.push(r);continue}t.push(s,e)}}else e.data&&t.unshift(e)}t.forEach((t=>{t.parentNode=this})),this.childNodes=t}removeChild(t){t.parentNode=null;const e=this.childNodes.indexOf(t);return-1===e||this.childNodes.splice(e,1),t}replaceChild(t,e){const s=e.nextSibling;return this.removeChild(e),this.insertBefore(t,s),e}get nextSibling(){return this.parentNode&&this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+1]||null}get previousSibling(){return this.parentNode&&this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)-1]||null}get textContent(){return this.nodeType===c.TEXT_NODE||this.nodeType===c.CDATA_SECTION_NODE||this.nodeType===c.COMMENT_NODE?this.data:this.childNodes.reduce((function(t,e){return t+e.textContent}),"")}set textContent(t){this.nodeType!==c.TEXT_NODE&&this.nodeType!==c.CDATA_SECTION_NODE&&this.nodeType!==c.COMMENT_NODE?(this.childNodes=[],this.appendChild(this.ownerDocument.createTextNode(t))):this.data=t}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get firstChild(){return this.childNodes[0]||null}}(0,r.extendStatic)(c,a),(0,r.extend)(c,a)},"./src/dom/NodeFilter.js":(t,e,s)=>{s.r(e),s.d(e,{NodeFilter:()=>n});var r=s("./src/utils/objectCreationUtils.js");class n{acceptNode(){return n.FILTER_ACCEPT}}(0,r.extendStatic)(n,{FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_IGNORE:4,SHOW_ALL:-1,SHOW_ELEMENT:1,SHOW_TEXT:4,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048})},"./src/dom/Text.js":(t,e,s)=>{s.r(e),s.d(e,{Text:()=>i});var r=s("./src/dom/CharacterData.js"),n=s("./src/dom/Node.js");class i extends r.CharacterData{constructor(t,e){super(t,e),this.nodeType=n.Node.TEXT_NODE}}},"./src/dom/Window.js":(t,e,s)=>{s.r(e),s.d(e,{Window:()=>M});var r=s("./src/utils/objectCreationUtils.js"),n=s("./src/dom/EventTarget.js"),i=s("./src/dom/Node.js"),o=s("./src/dom/Document.js"),a=s("./src/dom/DocumentFragment.js"),c=s("./src/dom/Text.js"),h=s("./src/dom/CustomEvent.js"),l=s("./src/dom/Event.js"),d=s("./src/dom/Element.js"),u=s("./src/dom/Attr.js"),m=s("./src/dom/html/HTMLImageElement.js"),p=s("./src/dom/html/HTMLLinkElement.js"),E=s("./src/dom/html/HTMLScriptElement.js"),N=s("./src/dom/html/HTMLElement.js"),g=s("./src/dom/svg/SVGPoint.js"),_=s("./src/dom/svg/SVGMatrix.js"),f=s("./src/dom/svg/SVGElement.js"),x=s("./src/dom/svg/SVGSVGElement.js"),T=s("./src/dom/svg/SVGPathElement.js"),w=s("./src/dom/svg/SVGGraphicsElement.js"),y=s("./src/dom/svg/SVGTextContentElement.js"),S=s("./src/utils/strUtils.js"),b=s("./src/utils/defaults.js");class M extends n.EventTarget{constructor(){super(),this.document=new o.Document,this.document.defaultView=this,this.self=this;const t=this.document;this.Image=class{constructor(e,s){const r=t.createElement("img");return null!=e&&r.setAttribute("width",e),null!=s&&r.setAttribute("height",s),r}}}getComputedStyle(t){return{getPropertyValue(e){let s,r=t;do{s=r.style[e]||r.getAttribute(e)}while(null==s&&(r=r.parentNode)&&1===r.nodeType);return s||b[(0,S.camelCase)(e)]||null}}}}let j=0;const C=global.Date.now(),G={now:()=>Date.now()-C},A={Window:M,Document:o.Document,DocumentFragment:a.DocumentFragment,Node:i.Node,EventTarget:n.EventTarget,Text:c.Text,Attr:u.Attr,Element:d.Element,CustomEvent:h.CustomEvent,Event:l.Event,HTMLElement:N.HTMLElement,HTMLLinkElement:p.HTMLLinkElement,HTMLScriptElement:E.HTMLScriptElement,HTMLImageElement:m.HTMLImageElement,SVGMatrix:_.SVGMatrix,SVGPoint:g.SVGPoint,SVGElement:f.SVGElement,SVGSVGElement:x.SVGSVGElement,SVGPathElement:T.SVGPathElement,SVGGraphicsElement:w.SVGGraphicsElement,SVGTextContentElement:y.SVGTextContentElement,setTimeout:global.setTimeout,clearTimeout:global.clearTimeout,pageXOffset:0,pageYOffset:0,Date:global.Date,requestAnimationFrame:t=>{const e=(new global.Date).getTime(),s=Math.max(0,16-(e-j));return global.setTimeout((()=>{j=e+s,t(j)}),s)},cancelAnimationFrame:global.clearTimeout,performance:G};(0,r.extend)(M,A)},"./src/dom/html/HTMLElement.js":(t,e,s)=>{s.r(e),s.d(e,{HTMLElement:()=>n});var r=s("./src/dom/Element.js");class n extends r.Element{}},"./src/dom/html/HTMLImageElement.js":(t,e,s)=>{s.r(e),s.d(e,{HTMLImageElement:()=>o});var r=s("image-size"),n=s("./src/dom/Event.js"),i=s("./src/dom/html/HTMLElement.js");class o extends i.HTMLElement{constructor(...t){super(...t),this.naturalWidth=0,this.naturalHeight=0,this.complete=!1}}Object.defineProperties(o.prototype,{src:{get(){return this.getAttribute("src")},set(t){this.setAttribute("src",t),r(t,((t,e)=>{t?this.dispatchEvent(new n.Event("error")):(this.naturalWidth=e.width,this.naturalHeight=e.height,this.complete=!0,this.dispatchEvent(new n.Event("load")))}))}},height:{get(){return this.getAttribute("height")||this.naturalHeight},set(t){this.setAttribute("height",t)}},width:{get(){return this.getAttribute("width")||this.naturalWidth},set(t){this.setAttribute("width",t)}}})},"./src/dom/html/HTMLLinkElement.js":(t,e,s)=>{s.r(e),s.d(e,{HTMLLinkElement:()=>n});var r=s("./src/dom/html/HTMLElement.js");class n extends r.HTMLElement{}Object.defineProperties(n.prototype,{href:{get(){return this.getAttribute("href")},set(t){this.setAttribute("href",t)}},rel:{get(){return this.getAttribute("rel")},set(t){this.setAttribute("rel",t)}},type:{get(){return this.getAttribute("type")},set(t){this.setAttribute("type",t)}}})},"./src/dom/html/HTMLParser.js":(t,e,s)=>{s.r(e),s.d(e,{HTMLParser:()=>n});var r=s("sax");const n=function(t,e){let s=e,n=e.ownerDocument,i=null;e.nodeType!==e.DOCUMENT_NODE?t='<svgdom:wrapper xmlns:svgdom="svgdom:rocks">'+t+"</svgdom:wrapper>":n=e;const o=r.parser(!0,{xmlns:!0,strictEntities:!0});o.onerror=t=>{throw t},o.ondoctype=t=>{if(s!==n)throw new Error("Doctype can only be appended to document");s.appendChild(n.implementation.createDocumentType())},o.ontext=t=>s.appendChild(n.createTextNode(t)),o.oncomment=t=>s.appendChild(n.createComment(t)),o.onopentag=t=>{if("svgdom:wrapper"===t.name)return;const e=t.attributes,r=t.uri||s.lookupNamespaceURI(t.prefix||null);var i=n.createElementNS(r,t.name);for(const[s,n]of Object.entries(e))i.setAttributeNS(n.uri,s,n.value);s.appendChild(i),s=i},o.onclosetag=t=>{"svgdom:wrapper"!==t&&(s=s.parentNode)},o.onopencdata=()=>{i=n.createCDATASection("")},o.oncdata=t=>{i.appendData(t)},o.onclosecdata=()=>{s.appendChild(i)},o.write(t)}},"./src/dom/html/HTMLScriptElement.js":(t,e,s)=>{s.r(e),s.d(e,{HTMLScriptElement:()=>n});var r=s("./src/dom/html/HTMLElement.js");class n extends r.HTMLElement{}Object.defineProperties(n.prototype,{src:{get(){return this.getAttribute("src")},set(t){this.setAttribute("src",t)}},type:{get(){return this.getAttribute("type")},set(t){this.setAttribute("type",t)}}})},"./src/dom/mixins/ChildNode.js":(t,e,s)=>{s.r(e),s.d(e,{ChildNode:()=>n});var r=s("./src/utils/nodesToNode.js");const n={before(...t){if(!this.parentNode)return;const e=(0,r.nodesToNode)(t,this.ownerDocument);this.parentNode.insertBefore(e,this)},after(...t){if(!this.parentNode)return;const e=(0,r.nodesToNode)(t,this.ownerDocument);this.parentNode.insertBefore(e,this.nextSibling)},replaceWith(...t){if(!this.parentNode)return;const e=this.nextSibling,s=(0,r.nodesToNode)(t,this.ownerDocument);this.parentNode.insertBefore(s,e),this.remove()},remove(){this.parentNode&&this.parentNode.removeChild(this)}}},"./src/dom/mixins/NonDocumentTypeChildNode.js":(t,e,s)=>{s.r(e),s.d(e,{NonDocumentTypeChildNode:()=>r});const r={};Object.defineProperties(r,{previousElementSibling:{get(){let t;for(;t=this.previousSibling;)if(t.nodeType===t.ELEMENT_NODE)return t;return null}},nextElementSibling:{get(){let t;for(;t=this.nextSibling;)if(t.nodeType===t.ELEMENT_NODE)return t;return null}}})},"./src/dom/mixins/NonElementParentNode.js":(t,e,s)=>{s.r(e),s.d(e,{NonElementParentNode:()=>i});var r=s("./src/utils/NodeIterator.js"),n=s("./src/dom/NodeFilter.js");const i={getElementById(t){const e=new r.NodeIterator(this,n.NodeFilter.SHOW_ELEMENT,(e=>t===e.id?n.NodeFilter.FILTER_ACCEPT:n.NodeFilter.FILTER_IGNORE),!1);for(const s of e)return s;return null}}},"./src/dom/mixins/ParentNode.js":(t,e,s)=>{s.r(e),s.d(e,{ParentNode:()=>a});var r=s("./src/other/CssQuery.js"),n=s("./src/utils/NodeIterator.js"),i=s("./src/dom/NodeFilter.js"),o=s("./src/utils/nodesToNode.js");const a={matchWithScope(t,e){return new r.CssQuery(t).matches(this,e)},query(t,e,s=!1){const r=new n.NodeIterator(e,i.NodeFilter.SHOW_ELEMENT,(s=>s.matchWithScope(t,e)?i.NodeFilter.FILTER_ACCEPT:i.NodeFilter.FILTER_IGNORE),!1),o=[];for(const n of r)if(o.push(n),s)return o;return o},querySelectorAll(t){return this.query(t,this)},querySelector(t){return this.query(t,this,!0)[0]||null},closest(t){const e=new r.CssQuery(t);let s=this;for(;s;){if(e.matches(s,this))return s;s=s.parentNode}return null},prepend(...t){const e=(0,o.nodesToNode)(t,this.ownerDocument);this.insertBefore(e,this.firstChild)},append(...t){const e=(0,o.nodesToNode)(t,this.ownerDocument);this.appendChild(e)},replaceChildren(...t){for(;this.firstChild;)this.removeChild(this.firstChild);this.append(...t)}};Object.defineProperties(a,{children:{get(){return this.childNodes.filter((function(t){return t.nodeType===t.ELEMENT_NODE}))}},firstElementChild:{get(){for(const t of this.childNodes)if(t&&t.nodeType===t.ELEMENT_NODE)return t;return null}},lastElementChild:{get(){for(const t of this.childNodes.slice().reverse())if(t&&t.nodeType===t.ELEMENT_NODE)return t;return null}},childElementCount:{get(){return this.children.length}}})},"./src/dom/mixins/elementAccess.js":(t,e,s)=>{s.r(e),s.d(e,{elementAccess:()=>i});var r=s("./src/dom/NodeFilter.js"),n=s("./src/utils/NodeIterator.js");const i={getElementsByTagName(t){return[...new n.NodeIterator(this,r.NodeFilter.SHOW_ELEMENT,(e=>e.nodeName===t?r.NodeFilter.FILTER_ACCEPT:r.NodeFilter.FILTER_IGNORE),!1)]},getElementsByTagNameNS(t,e){return[...new n.NodeIterator(this,r.NodeFilter.SHOW_ELEMENT,(s=>s.isNamespace(t)&&s.nodeName===e?r.NodeFilter.FILTER_ACCEPT:r.NodeFilter.FILTER_IGNORE),!1)]},getElementsByClassName(t){const e=new n.NodeIterator(this,r.NodeFilter.SHOW_ELEMENT,(e=>((t,e)=>t.className.split(/\s+/).includes(e))(e,t)?r.NodeFilter.FILTER_ACCEPT:r.NodeFilter.FILTER_IGNORE),!1);return[...e]}}},"./src/dom/svg/SVGAnimatedLength.js":(t,e,s)=>{s.r(e),s.d(e,{SVGAnimatedLength:()=>n});var r=s("./src/dom/svg/SVGLength.js");class n{baseVal;constructor(t,e){this.baseVal=new r.SVGLength(t,e)}get animVal(){throw new Error("animVal is not implemented")}}},"./src/dom/svg/SVGCircleElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGCircleElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{cx=new r.SVGAnimatedLength(this,"cx");cy=new r.SVGAnimatedLength(this,"cy");r=new r.SVGAnimatedLength(this,"r")}},"./src/dom/svg/SVGElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGElement:()=>n});var r=s("./src/dom/Element.js");class n extends r.Element{get ownerSVGElement(){let t=this;for(;t=t.parentNode;)if("svg"==t.nodeName)return t;return null}get viewportElement(){let t=this;for(;t=t.parentNode;)if(["svg","symbol"].includes(t.nodeName))return t;return null}}},"./src/dom/svg/SVGEllipseElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGEllipseElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{cx=new r.SVGAnimatedLength(this,"cx");cy=new r.SVGAnimatedLength(this,"cy");rx=new r.SVGAnimatedLength(this,"rx");ry=new r.SVGAnimatedLength(this,"ry")}},"./src/dom/svg/SVGForeignObjectElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGForeignObjectElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{x=new r.SVGAnimatedLength(this,"x");y=new r.SVGAnimatedLength(this,"y");width=new r.SVGAnimatedLength(this,"width");height=new r.SVGAnimatedLength(this,"height")}},"./src/dom/svg/SVGGraphicsElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGGraphicsElement:()=>a});var r=s("./src/dom/svg/SVGElement.js"),n=s("./src/utils/bboxUtils.js"),i=s("./src/utils/regex.js"),o=s("./src/dom/svg/SVGMatrix.js");class a extends r.SVGElement{generateViewBoxMatrix(){if(!["marker","symbol","pattern","svg","view"].includes(this.nodeName))return new o.SVGMatrix;let t=(this.getAttribute("viewBox")||"").split(i.delimiter).map(parseFloat).filter((t=>!isNaN(t)));const e=parseFloat(this.getAttribute("width"))||0,s=parseFloat(this.getAttribute("height"))||0,r=parseFloat(this.getAttribute("x"))||0,n=parseFloat(this.getAttribute("y"))||0;return e&&s?(4!==t.length&&(t=[0,0,e,s]),(new o.SVGMatrix).translate(r,n).scale(e/t[2],s/t[3]).translate(-t[0],-t[1])):(new o.SVGMatrix).translate(r,n)}getBBox(){return(0,n.getSegments)(this).bbox()}getBoundingClientRect(){let t=this.matrixify();return this.parentNode&&"#document"!==this.parentNode.nodeName&&(t=this.parentNode.getScreenCTM().multiply(t)),(0,n.getSegments)(this,!1,!0).transform(t).bbox()}getCTM(){let t=this.matrixify(),e=this;for(;(e=e.parentNode)&&!(["svg","symbol","image","pattern","marker"].indexOf(e.nodeName)>-1);)if(t=t.multiply(e.matrixify()),"#document"===e.nodeName)return this.getScreenCTM();return e.generateViewBoxMatrix().multiply(t)}getInnerMatrix(){let t=this.matrixify();return["svg","symbol","image","pattern","marker"].indexOf(this.nodeName)>-1&&(t=this.generateViewBoxMatrix().multiply(t)),t}getScreenCTM(){const t=this.getInnerMatrix();return this.parentNode&&this.parentNode instanceof a?this.parentNode.getScreenCTM().multiply(t):t}matrixify(){return(this.getAttribute("transform")||"").trim().split(i.transforms).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0].trim(),e[1].split(i.delimiter).map((function(t){return parseFloat(t.trim())}))]})).reduce((function(t,e){return"matrix"===e[0]?t.multiply({a:(s=e[1])[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}):t[e[0]].apply(t,e[1]);var s}),new o.SVGMatrix)}get transform(){throw new Error("Not implemented")}}},"./src/dom/svg/SVGImageElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGImageElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{x=new r.SVGAnimatedLength(this,"x");y=new r.SVGAnimatedLength(this,"y");width=new r.SVGAnimatedLength(this,"width");height=new r.SVGAnimatedLength(this,"height")}},"./src/dom/svg/SVGLength.js":(t,e,s)=>{s.r(e),s.d(e,{SVGLength:()=>h});var r=s("./src/utils/objectCreationUtils.js");const n={SVG_LENGTHTYPE_UNKNOWN:0,SVG_LENGTHTYPE_NUMBER:1,SVG_LENGTHTYPE_PERCENTAGE:2,SVG_LENGTHTYPE_EMS:3,SVG_LENGTHTYPE_EXS:4,SVG_LENGTHTYPE_PX:5,SVG_LENGTHTYPE_CM:6,SVG_LENGTHTYPE_MM:7,SVG_LENGTHTYPE_IN:8,SVG_LENGTHTYPE_PT:9,SVG_LENGTHTYPE_PC:10},i={"":n.SVG_LENGTHTYPE_NUMBER,"%":n.SVG_LENGTHTYPE_PERCENTAGE,em:n.SVG_LENGTHTYPE_EMS,ex:n.SVG_LENGTHTYPE_EXS,px:n.SVG_LENGTHTYPE_PX,cm:n.SVG_LENGTHTYPE_CM,mm:n.SVG_LENGTHTYPE_MM,in:n.SVG_LENGTHTYPE_IN,pt:n.SVG_LENGTHTYPE_PT,pc:n.SVG_LENGTHTYPE_PC},o=new Map(Object.entries(i).map((([t,e])=>[e,t]))),a=new Map([[n.SVG_LENGTHTYPE_NUMBER,1],[n.SVG_LENGTHTYPE_PERCENTAGE,NaN],[n.SVG_LENGTHTYPE_EMS,NaN],[n.SVG_LENGTHTYPE_EXS,NaN],[n.SVG_LENGTHTYPE_PX,1],[n.SVG_LENGTHTYPE_CM,6],[n.SVG_LENGTHTYPE_MM,96/25.4],[n.SVG_LENGTHTYPE_IN,96],[n.SVG_LENGTHTYPE_PT,4/3],[n.SVG_LENGTHTYPE_PC,16]]),c=/^\s*([+-]?[0-9]*[.]?[0-9]+(?:e[+-]?[0-9]+)?)(em|ex|px|in|cm|mm|pt|pc|%)?\s*$/i;class h{element;attributeName;constructor(t,e){this.element=t,this.attributeName=e}get unitType(){return l(this.element.getAttribute(this.attributeName))[1]}get value(){const[t,e]=l(this.element.getAttribute(this.attributeName));return t*d(e)}set value(t){const e=d(this.unitType);this.element.setAttribute(this.attributeName,t/e+u(this))}get valueInSpecifiedUnits(){return l(this.element.getAttribute(this.attributeName))[0]}set valueInSpecifiedUnits(t){this.element.setAttribute(this.attributeName,t+u(this))}get valueAsString(){return this.valueInSpecifiedUnits+u(this)}set valueAsString(t){const[e,s]=l(t,!1),r=o.get(s)||"";this.element.setAttribute(this.attributeName,e+r)}}function l(t,e=!0){const[,s,r]=(t||"").match(c)||[],o=i[(r||"").toLowerCase()];if(void 0!==s&&void 0!==o)return[parseFloat(s),o];if(e)return[0,n.SVG_LENGTHTYPE_NUMBER];throw new Error("An invalid or illegal string was specified")}function d(t){const e=a.get(t);if(void 0===e)throw new Error(e+" is not a known unit constant");if(isNaN(e))throw new Error(`Unit ${o.get(t)} is not supported`);return e}function u(t){return o.get(t.unitType)||""}(0,r.extendStatic)(h,n)},"./src/dom/svg/SVGLineElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGLineElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{x1=new r.SVGAnimatedLength(this,"x1");y1=new r.SVGAnimatedLength(this,"y1");x2=new r.SVGAnimatedLength(this,"x2");y2=new r.SVGAnimatedLength(this,"y2")}},"./src/dom/svg/SVGMatrix.js":(t,e,s)=>{s.r(e),s.d(e,{SVGMatrix:()=>i,matrixFactory:()=>n});const r=function(t){return t%360*Math.PI/180};function n(t,e,s,r,n,o){var a=new i;return a.a=t,a.b=e,a.c=s,a.d=r,a.e=n,a.f=o,a}class i{constructor(){this.a=this.d=1,this.b=this.c=this.e=this.f=0}inverse(){var t=this.a,e=this.b,s=this.c,r=this.d,n=this.e,i=this.f,o=t*r-e*s;if(!o)throw new Error("Cannot invert "+this);var a=r/o,c=-e/o,h=-s/o,l=t/o,d=-(a*n+h*i),u=-(c*n+l*i);return this.a=a,this.b=c,this.c=h,this.d=l,this.e=d,this.f=u,this}multiply(t){var e=new i;return e.a=this.a*t.a+this.c*t.b+0*this.e,e.b=this.b*t.a+this.d*t.b+0*this.f,e.c=this.a*t.c+this.c*t.d+0*this.e,e.d=this.b*t.c+this.d*t.d+0*this.f,e.e=this.a*t.e+this.c*t.f+1*this.e,e.f=this.b*t.e+this.d*t.f+1*this.f,e}rotate(t,e,s){return t=t%360*Math.PI/180,this.multiply(n(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),e?-Math.cos(t)*e+Math.sin(t)*s+e:0,s?-Math.sin(t)*e-Math.cos(t)*s+s:0))}scale(t,e=t){return this.multiply(n(t,0,0,e,0,0))}skew(t,e){return this.multiply(n(1,Math.tan(r(e)),Math.tan(r(t)),1,0,0))}skewX(t){return this.skew(t,0)}skewY(t){return this.skew(0,t)}toString(){return"SVGMatrix"}translate(t=0,e=0){return this.multiply(n(1,0,0,1,t,e))}}},"./src/dom/svg/SVGPathElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGPathElement:()=>i});var r=s("./src/dom/svg/SVGGraphicsElement.js"),n=s("./src/utils/pathUtils.js");class i extends r.SVGGraphicsElement{getPointAtLength(t){return n.pointAtLength(this.getAttribute("d"),t)}getTotalLength(){return n.length(this.getAttribute("d"))}}},"./src/dom/svg/SVGPoint.js":(t,e,s)=>{s.r(e),s.d(e,{SVGPoint:()=>r});class r{constructor(){this.x=0,this.y=0}matrixTransform(t){var e=new r;return e.x=t.a*this.x+t.c*this.y+1*t.e,e.y=t.b*this.x+t.d*this.y+1*t.f,e}}},"./src/dom/svg/SVGRectElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGRectElement:()=>i});var r=s("./src/dom/svg/SVGGraphicsElement.js"),n=s("./src/dom/svg/SVGAnimatedLength.js");class i extends r.SVGGraphicsElement{x=new n.SVGAnimatedLength(this,"x");y=new n.SVGAnimatedLength(this,"y");width=new n.SVGAnimatedLength(this,"width");height=new n.SVGAnimatedLength(this,"height");rx=new n.SVGAnimatedLength(this,"rx");ry=new n.SVGAnimatedLength(this,"ry")}},"./src/dom/svg/SVGSVGElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGSVGElement:()=>a});var r=s("./src/dom/svg/SVGGraphicsElement.js"),n=s("./src/other/Box.js"),i=s("./src/dom/svg/SVGMatrix.js"),o=s("./src/dom/svg/SVGPoint.js");class a extends r.SVGGraphicsElement{createSVGMatrix(){return new i.SVGMatrix}createSVGPoint(){return new o.SVGPoint}createSVGRect(){return new n.Box}}},"./src/dom/svg/SVGTextContentElement.js":(t,e,s)=>{s.r(e),s.d(e,{SVGTextContentElement:()=>i});var r=s("./src/dom/svg/SVGAnimatedLength.js"),n=s("./src/dom/svg/SVGGraphicsElement.js");class i extends n.SVGGraphicsElement{textWidth=new r.SVGAnimatedLength(this,"textWidth");getComputedTextLength(){return this.getBBox().width}}},"./src/factories.js":(t,e,s)=>{s.r(e),s.d(e,{createDocument:()=>o,createHTMLDocument:()=>a,createHTMLWindow:()=>h,createSVGDocument:()=>d,createSVGWindow:()=>l,createWindow:()=>c});var r=s("./src/dom/Window.js"),n=s("./src/dom/Document.js"),i=s("./src/utils/namespaces.js");const{createDocument:o,createHTMLDocument:a}=n.DOMImplementation,c=(...t)=>{const e=new r.Window,s=o(...t);return e.document=s,s.defaultView=e,e},h=t=>{const e=new r.Window,s=n.DOMImplementation.createHTMLDocument(t);return e.document=s,s.defaultView=e,e},l=()=>c(i.svg,"svg"),d=()=>o(i.svg,"svg")},"./src/other/Box.js":(t,e,s)=>{s.r(e),s.d(e,{Box:()=>i,NoBox:()=>o});var r=s("./src/utils/regex.js"),n=s("./src/other/Point.js");class i{constructor(t){t="string"===typeof t?t.split(r.delimiter).map(parseFloat):Array.isArray(t)?t:"object"===typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=this.left=t[0],this.y=this.top=t[1],this.width=t[2],this.height=t[3],this.right=this.left+this.width,this.bottom=this.top+this.height}merge(t){if(t instanceof o)return new i(this);var e=Math.min(this.x,t.x),s=Math.min(this.y,t.y);return new i(e,s,Math.max(this.x+this.width,t.x+t.width)-e,Math.max(this.y+this.height,t.y+t.height)-s)}transform(t){var e=1/0,s=-1/0,r=1/0,o=-1/0;return[new n.Point(this.x,this.y),new n.Point(this.x+this.width,this.y),new n.Point(this.x,this.y+this.height),new n.Point(this.x+this.width,this.y+this.height)].forEach((function(n){n=n.transform(t),e=Math.min(e,n.x),s=Math.max(s,n.x),r=Math.min(r,n.y),o=Math.max(o,n.y)})),new i(e,r,s-e,o-r)}}class o extends i{merge(t){return t instanceof o?new o:new i(t)}transform(t){return new o}}},"./src/other/CssQuery.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CssQuery:()=>CssQuery,CssQueryNode:()=>CssQueryNode});var _utils_strUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/strUtils.js"),_utils_regex_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/regex.js"),_utils_namespaces_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/namespaces.js");class CssQuery{constructor(t){if(CssQuery.cache.has(t))return void(this.queries=CssQuery.cache.get(t));let e=(0,_utils_strUtils_js__WEBPACK_IMPORTED_MODULE_0__.splitNotInBrackets)(t,",");e=e.map((t=>{let e=0,s=0;t=t.replace(/[()[\]>~+]/g,(function(t){return"("===t?++e:")"===t?--e:"["===t?++s:"]"===t&&--s,"()[]".indexOf(t)>-1||s||e?t:" "+t+" "}));const r=[];let n="%";for(let i=0,o=(t=(0,_utils_strUtils_js__WEBPACK_IMPORTED_MODULE_0__.splitNotInBrackets)(t," ").filter((t=>!!t.length))).length;i<o;++i)">~+%".indexOf(t[i])>-1?n=t[i]:(r.push([n,t[i]]),n="%");return r})),this.queries=e,CssQuery.cacheKeys.length>50&&CssQuery.cache.delete(CssQuery.cacheKeys.shift()),CssQuery.cache.set(t,e),CssQuery.cacheKeys.push(t)}matches(t,e){for(let s=this.queries.length;s--;)if(this.matchHelper(this.queries[s],t,e))return!0;return!1}matchHelper(t,e,s){const r=(t=t.slice()).pop();if(!new CssQueryNode(r[1]).matches(e,s))return!1;if(!t.length)return!0;if(","===r[0])return!0;if("+"===r[0])return!!e.previousSibling&&this.matchHelper(t,e.previousSibling,s);if(">"===r[0])return!!e.parentNode&&this.matchHelper(t,e.parentNode,s);if("~"===r[0]){for(;e=e.previousSibling;)if(this.matchHelper(t,e,s))return!0;return!1}if("%"===r[0]){for(;e=e.parentNode;)if(this.matchHelper(t,e,s))return!0;return!1}}}CssQuery.cache=new Map,CssQuery.cacheKeys=[];const nth=(node,arr,nth)=>{if("even"===nth?nth="2n":"odd"===nth&&(nth="2n+1"),/[^\d\-n+*/]+/.test(nth))return!1;nth=nth.replace("n","*n");for(var i,n=0,nl=arr.length;n<nl&&(i=eval(nth),!(i>nl));++n)if(arr[i-1]===node)return!0;return!1},lower=t=>t.toLowerCase(),eq=(t,e,s)=>s?lower(t)===lower(e):t===e,attributeMatcher={"=":(t,e,s)=>eq(e,s,t),"~=":(t,e,s)=>s.split(_utils_regex_js__WEBPACK_IMPORTED_MODULE_1__.delimiter).filter((s=>eq(s,e,t))).length>0,"|=":(t,e,s)=>eq(s.split(_utils_regex_js__WEBPACK_IMPORTED_MODULE_1__.delimiter)[0],e,t),"^=":(t,e,s)=>t?lower(s).startsWith(lower(e)):s.startsWith(e),"$=":(t,e,s)=>t?lower(s).endsWith(lower(e)):s.endsWith(e),"*=":(t,e,s)=>t?lower(s).includes(lower(e)):s.includes(e),"*":(t,e,s)=>null!=s},getAttributeValue=(t,e,s)=>t&&"*"!==t?s.getAttribute(t+":"+e):s.getAttribute(e),pseudoMatcher={"first-child":(t,e)=>e.parentNode&&e.parentNode.firstChild===e,"last-child":(t,e)=>e.parentNode&&e.parentNode.lastChild===e,"nth-child":(t,e)=>e.parentNode&&nth(e,e.parentNode.childNodes,t),"nth-last-child":(t,e)=>e.parentNode&&nth(e,e.parentNode.childNodes.slice().reverse(),t),"first-of-type":(t,e)=>e.parentNode&&e.parentNode.childNodes.filter((t=>t.nodeName===e.nodeName))[0]===e,"last-of-type":(t,e)=>e.parentNode&&e.parentNode.childNodes.filter((t=>t.nodeName===e.nodeName)).pop()===e,"nth-of-type":(t,e)=>e.parentNode&&nth(e,e.parentNode.childNodes.filter((t=>t.nodeName===e.nodeName)),t),"nth-last-of-type":(t,e)=>e.parentNode&&nth(e,e.parentNode.childNodes.filter((t=>t.nodeName===e.nodeName)).reverse(),t),"only-child":(t,e)=>e.parentNode&&1===e.parentNode.childNodes.length,"only-of-type":(t,e)=>e.parentNode&&1===e.parentNode.childNodes.filter((t=>t.nodeName===e.nodeName)).length,root:(t,e)=>e.ownerDocument.documentElement===e,not:(t,e,s)=>!new CssQuery(t).matches(e,s),matches:(t,e,s)=>new CssQuery(t).matches(e,s),scope:(t,e,s)=>e===s};class CssQueryNode{constructor(t){this.tag="",this.id="",this.classList=[],this.attrs=[],this.pseudo=[];let e=t.match(/^[\w-]+|^\*/);for(e&&(this.tag=e[0],t=t.slice(this.tag.length));e=/:([\w-]+)(?:\((.+)\))?/g.exec(t);)this.pseudo.push(pseudoMatcher[e[1]].bind(this,(0,_utils_strUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeQuotes)(e[2]||""))),t=t.slice(0,e.index)+t.slice(e.index+e[0].length);for(;e=/\[([\w-*]+\|)?([\w-]+)(([=^~$|*]+)(.+?)( +[iI])?)?\]/g.exec(t);){const s=e[1]?e[1].split("|")[0]:null;this.attrs.push({name:e[2],getValue:getAttributeValue.bind(this,s,e[2]),matcher:attributeMatcher[e[4]||"*"].bind(this,!!e[6],(0,_utils_strUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeQuotes)((e[5]||"").trim()))}),t=t.slice(0,e.index)+t.slice(e.index+e[0].length)}for(e=t.match(/#([\w-]+)/),e&&(this.id=e[1],t=t.slice(0,e.index)+t.slice(e.index+e[0].length));e=/\.([\w-]+)/g.exec(t);)this.classList.push(e[1]),t=t.slice(0,e.index)+t.slice(e.index+e[0].length)}matches(t,e){let s;if(1!==t.nodeType)return!1;if(t.namespaceURI===_utils_namespaces_js__WEBPACK_IMPORTED_MODULE_2__.html&&(this.tag=this.tag.toUpperCase()),this.tag&&this.tag!==t.nodeName&&"*"!==this.tag)return!1;if(this.id&&this.id!==t.id)return!1;const r=(t.getAttribute("class")||"").split(_utils_regex_js__WEBPACK_IMPORTED_MODULE_1__.delimiter).filter((t=>!!t.length));if(this.classList.filter((t=>r.indexOf(t)<0)).length)return!1;for(s=this.attrs.length;s--;){const e=this.attrs[s].getValue(t);if(null===e||!this.attrs[s].matcher(e))return!1}for(s=this.pseudo.length;s--;)if(!this.pseudo[s](t,e))return!1;return!0}}},"./src/other/Point.js":(t,e,s)=>{s.r(e),s.d(e,{Point:()=>n});var r=s("./src/dom/svg/SVGPoint.js");class n{constructor(t,e){const s=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0};this.x=s.x,this.y=s.y}abs(){return Math.sqrt(this.absQuad())}absQuad(){return this.x*this.x+this.y*this.y}add(t,e){const s=new n(t,e);return new n(this.x+s.x,this.y+s.y)}angleTo(t){let e=Math.sign(this.x*t.y-this.y*t.x);return e=e||1,e*Math.acos(Math.round(this.dot(t)/(this.abs()*t.abs())*1e6)/1e6)}clone(){return new n(this)}closeTo(t,e=1e-5){return this.equals(t)||Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e}div(t){return new n(this.x/t,this.y/t)}dot(t){return this.x*t.x+this.y*t.y}equals(t){return this.x===t.x&&this.y===t.y}mul(t){return new n(this.x*t,this.y*t)}native(){const t=new r.SVGPoint;return t.x=this.x,t.y=this.y,t}normal(){return new n(this.y,-this.x)}normalize(){const t=this.abs();if(!t)throw new Error("Can't normalize vector of zero length");return this.div(t)}reflectAt(t){return t.add(t.sub(this))}sub(t,e){const s=new n(t,e);return new n(this.x-s.x,this.y-s.y)}toArray(){return[this.x,this.y]}toPath(){return["M",this.x,this.y].join(" ")}transform(t){return new n(this.native().matrixTransform(t))}transformO(t){const{x:e,y:s}=this.native().matrixTransform(t);this.x=e,this.y=s}}},"./src/utils/NodeIterator.js":(t,e,s)=>{s.r(e),s.d(e,{NodeIterator:()=>i});var r=s("./src/dom/NodeFilter.js");const n=(t,e)=>t===r.NodeFilter.SHOW_ALL||(!!(t&r.NodeFilter.SHOW_ELEMENT&&e.nodeType===e.ELEMENT_NODE)||(!!(t&r.NodeFilter.SHOW_TEXT&&e.nodeType===e.TEXT_NODE)||(!!(t&r.NodeFilter.SHOW_ENTITY_REFERENCE&&e.nodeType===e.ENTITY_REFERENCE_NODE)||(!!(t&r.NodeFilter.SHOW_ENTITY&&e.nodeType===e.ENTITY_NODE)||(!!(t&r.NodeFilter.SHOW_PROCESSING_INSTRUCTION&&e.nodeType===e.PROCESSING_INSTRUCTION_NODE)||(!!(t&r.NodeFilter.SHOW_COMMENT&&e.nodeType===e.COMMENT_NODE)||(!!(t&r.NodeFilter.SHOW_DOCUMENT&&e.nodeType===e.DOCUMENT_NODE)||(!!(t&r.NodeFilter.SHOW_DOCUMENT_TYPE&&e.nodeType===e.DOCUMENT_TYPE_NODE)||(!!(t&r.NodeFilter.SHOW_DOCUMENT_FRAGMENT&&e.nodeType===e.DOCUMENT_FRAGMENT_NODE)||!!(t&r.NodeFilter.SHOW_NOTATION&&e.nodeType===e.NOTATION_NODE))))))))));class i{constructor(t,e=r.NodeFilter.SHOW_ALL,s=(()=>r.NodeFilter.FILTER_ACCEPT),n=!0){this.root=n?{childNodes:[t]}:t,this.whatToShow=e,this.filter=s}*[Symbol.iterator](){const t=this.root.childNodes;for(const e of t){if(!n(this.whatToShow,e))continue;const t=this.filter(e);t!==r.NodeFilter.FILTER_REJECT&&(t===r.NodeFilter.FILTER_ACCEPT&&(yield e),yield*new i(e,this.whatToShow,this.filter,!1))}return this}}},"./src/utils/PointCloud.js":(t,e,s)=>{s.r(e),s.d(e,{PointCloud:()=>n});var r=s("./src/other/Box.js");class n extends Array{constructor(...t){1===t.length&&"number"===typeof t[0]?super(t.shift()):super(),t.reduce(((t,e)=>(t.push(...e),this)),this)}bbox(){if(!this.length)return new r.NoBox;let t=1/0,e=-1/0,s=1/0,n=-1/0;return this.forEach((function(r){t=Math.min(t,r.x),e=Math.max(e,r.x),s=Math.min(s,r.y),n=Math.max(n,r.y)})),new r.Box(t,s,e-t,n-s)}merge(t){return new n(this,t)}transform(t){return new n(this.map((e=>e.transform(t))))}}},"./src/utils/bboxUtils.js":(t,e,s)=>{s.r(e),s.d(e,{getSegments:()=>h});var r=s("./src/utils/pathUtils.js"),n=s("./src/utils/regex.js"),i=s("./src/utils/textUtils.js"),o=s("./src/other/Box.js"),a=s("./src/utils/NodeIterator.js"),c=s("./src/dom/NodeFilter.js");const h=(t,e,s=!1)=>((t,e,s)=>e.matrixify&&s?t.transform(e.matrixify()):t)(l(t,s),t,e),l=(t,e)=>{if(1!==t.nodeType)return new r.PathSegmentArray;switch(t.nodeName){case"rect":case"image":case"pattern":case"mask":case"foreignObject":return r.getPathSegments(r.pathFrom.rect(t));case"svg":case"symbol":if(e)return r.getPathSegments(r.pathFrom.rect(t));case"g":case"clipPath":case"a":case"marker":return t.childNodes.reduce(((t,e)=>e.matrixify?t.merge(h(e,!0).transform(e.generateViewBoxMatrix())):t),new r.PathSegmentArray);case"circle":return r.getPathSegments(r.pathFrom.circle(t));case"ellipse":return r.getPathSegments(r.pathFrom.ellipse(t));case"line":return r.getPathSegments(r.pathFrom.line(t));case"polyline":case"polygon":return r.getPathSegments(r.pathFrom.polyline(t));case"path":case"glyph":case"missing-glyph":return r.getPathSegments(t.getAttribute("d"));case"use":{const e=t.getAttribute("href")||t.getAttribute("xlink:href"),s=t.getRootNode().querySelector(e);return h(s).transform(t.generateViewBoxMatrix())}case"tspan":case"text":case"altGlyph":{const e=d(t);return e instanceof o.NoBox?new r.PathSegmentArray:r.getPathSegments(r.pathFrom.box(e))}default:return new r.PathSegmentArray}},d=t=>{const e=u(t);return m(t,e).filter(p).reduce(((t,e)=>t.merge(e)),new o.NoBox)},u=t=>{for(;t.parentNode&&("text"===t.nodeName&&"text"===t.parentNode.nodeName||("tspan"===t.nodeName||"textPath"===t.nodeName)&&["tspan","text","textPath"].includes(t.parentNode.nodeName));)t=t.parentNode;return t},m=function(t,e=t,s={x:0,y:0},r=[0],n=[0],i=[]){const o=new a.NodeIterator(e,c.NodeFilter.SHOW_ELEMENT|c.NodeFilter.SHOW_TEXT,(t=>"title"===t.nodeName?c.NodeFilter.FILTER_IGNORE:c.NodeFilter.FILTER_ACCEPT));for(const a of o){if(a===t&&a!==e)return m(a,a,s,r,n);E(a,s,r,n,i)}return i},p=t=>0!==t.x||0!==t.y||0!==t.width||0!==t.height,E=(t,e,s,r,o)=>{if(t.nodeType===t.ELEMENT_NODE){const i=parseFloat(t.getAttribute("x")),o=parseFloat(t.getAttribute("y"));e.x=isNaN(i)?e.x:i,e.y=isNaN(o)?e.y:o;const a=(t.getAttribute("dx")||"").split(n.delimiter).filter((t=>""!==t)).map(parseFloat),c=(t.getAttribute("dy")||"").split(n.delimiter).filter((t=>""!==t)).map(parseFloat);s.splice(0,a.length,...a),r.splice(0,c.length,...c)}else{const n=t.data;let a=0;const c=n.length,h=N(t);if(r.length||s.length)for(;a<c&&(o.push(i.textBBox(n.substr(a,1),e.x,e.y,h)),e.x+=s.shift()||0,e.y+=r.shift()||0,r.length||s.length);a++);o.push(i.textBBox(n.substr(a),e.x,e.y,h)),e.x+=o[o.length-1].width}},N=t=>{t.nodeType===t.TEXT_NODE&&(t=t.parentNode);let e=null,s=null,r=null,n=null;const i=["text","tspan","tref","textPath","altGlyph","g"];do{e||(e=t.style.fontSize||t.getAttribute("font-size")),s||(s=t.style.fontFamily||t.getAttribute("font-family")),r||(r=t.style.textAnchor||t.getAttribute("text-anchor")),n||(n=t.style.dominantBaseline||t.getAttribute("dominant-baseline"))}while((t=t.parentNode)&&t.nodeType===t.ELEMENT_NODE&&i.includes(t.nodeName));return{fontFamily:s,fontSize:e,textAnchor:r||"start",dominantBaseline:n||"alphabetical"}}},"./src/utils/defaults.js":(t,e,s)=>{s.r(e),s.d(e,{fontDir:()=>a,fontFamily:()=>o,fontFamilyMappings:()=>c,fontSize:()=>i});var r=s("path"),n=s("./dirname.cjs");const i=16,o="sans-serif",a=(0,r.join)(n,"../../","fonts/"),c={"sans-serif":"OpenSans-Regular.ttf","Open Sans":"OpenSans-Regular.ttf"}},"./src/utils/mapUtils.js":(t,e,s)=>{s.r(e),s.d(e,{cssToMap:()=>c,mapMap:()=>o,mapToCss:()=>a,mapToObject:()=>i,objectToMap:()=>n});var r=s("./src/utils/strUtils.js");const n=function(t){return t instanceof Map?new Map(t):Object.keys(t).reduce(((e,s)=>e.set(s,t[s])),new Map)},i=function(t){var e={};return t.forEach((function(t,s){e[s]=t})),e},o=function(t,e){var s=[];return t.forEach((function(t,r){s.push(e(t,r))})),s},a=function(t){return o(t,(function(t,e){return!!t&&(0,r.decamelize)(e)+": "+t})).filter((function(t){return!!t})).join("; ")+";"||0},c=function(t){return new Map(t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)})))}},"./src/utils/namespaces.js":(t,e,s)=>{s.r(e),s.d(e,{html:()=>i,mathml:()=>o,svg:()=>r,xlink:()=>n,xml:()=>a,xmlns:()=>c});const r="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xlink",i="http://www.w3.org/1999/xhtml",o="http://www.w3.org/1998/Math/MathML",a="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/2000/xmlns/"},"./src/utils/nodesToNode.js":(t,e,s)=>{s.r(e),s.d(e,{nodesToNode:()=>r});const r=(t,e)=>{if(t=t.map((t=>"string"===typeof t?e.createTextNode(t):t)),1===t.length)return t[0];const s=e.createDocumentFragment();return t.forEach(s.appendChild,s),s}},"./src/utils/objectCreationUtils.js":(t,e,s)=>{s.r(e),s.d(e,{extend:()=>r,extendStatic:()=>n,mixin:()=>i});const r=(...t)=>{var e,s,r;for(e=t.pop(),r=t.length-1;r>=0;r--)for(s in e)t[r].prototype[s]=e[s]},n=(...t)=>{var e,s,r;for(e=t.pop(),r=t.length-1;r>=0;r--)for(s in e)t[r][s]=e[s]},i=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t);Object.defineProperties(e.prototype,s)}},"./src/utils/pathUtils.js":(t,e,s)=>{s.r(e),s.d(e,{Arc:()=>m,PathSegmentArray:()=>g,debug:()=>T,getCloud:()=>w,getPathSegments:()=>_,length:()=>x,pathBBox:()=>N,pathFrom:()=>y,pathParser:()=>d,pointAtLength:()=>f});var r=s("./src/other/Box.js"),n=s("./src/other/Point.js"),i=s("./src/utils/regex.js"),o=s("./src/dom/svg/SVGMatrix.js"),a=s("./src/utils/PointCloud.js");const c={M(t,e,s,r){return e.x=r.x=t[0],e.y=r.y=t[1],new u(e)},L(t,e){const s=new E(e.x,e.y,t[0],t[1]);return e.x=t[0],e.y=t[1],s},H(t,e){return c.L([t[0],e.y],e)},V(t,e){return c.L([e.x,t[0]],e)},Q(t,e,s){const r=p.fromQuad(e,new n.Point(t[0],t[1]),new n.Point(t[2],t[3]));e.x=t[2],e.y=t[3];const i=new n.Point(t[0],t[1]).reflectAt(e);return s.x=i.x,s.y=i.y,r},T(t,e,s,r,n){return t=n?[s.x,s.y].concat(t):[e.x,e.y].concat(t),c.Q(t,e,s)},C(t,e,s){const r=new p(e,new n.Point(t[0],t[1]),new n.Point(t[2],t[3]),new n.Point(t[4],t[5]));e.x=t[4],e.y=t[5];const i=new n.Point(t[2],t[3]).reflectAt(e);return s.x=i.x,s.y=i.y,r},S(t,e,s,r,n){return t=n?[s.x,s.y].concat(t):[e.x,e.y].concat(t),c.C(t,e,s)},Z(t,e,s,r){return c.L([r.x,r.y],e)},A(t,e,s){const r=new m(e,new n.Point(t[5],t[6]),t[0],t[1],t[2],t[3],t[4]);return e.x=t[5],e.y=t[6],r}},h="mlhvqtcsaz".split("");for(let S=0,b=h.length;S<b;++S)c[h[S]]=function(t){return function(e,s,r,n,i){if("H"===t)e[0]=e[0]+s.x;else if("V"===t)e[0]=e[0]+s.y;else if("A"===t)e[5]=e[5]+s.x,e[6]=e[6]+s.y;else for(let t=0,o=e.length;t<o;++t)e[t]=e[t]+(t%2?s.y:s.x);return c[t](e,s,r,n,i)}}(h[S].toUpperCase());function l(t,e,s,r){return s+r.replace(i.dots," .")}const d=t=>{const e={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t=t.replace(i.numbersWithDots,l).replace(i.pathLetters," $& ").replace(i.hyphen,"$1 -").trim().split(i.delimiter);const s=[],r=new n.Point,o=new n.Point,a=new n.Point;let h=0;const d=t.length;let u;do{i.isPathLetter.test(t[h])?(u=t[h],++h):"M"===u?u="L":"m"===u&&(u="l"),s.push(c[u].call(null,t.slice(h,h+=e[u.toUpperCase()]).map(parseFloat),r,a,o,s[s.length-1]instanceof p))}while(d>h);return s};class u{constructor(t){this.p1=t.clone()}bbox(){const t=this.p1;return new r.Box(t.x,t.y,0,0)}getCloud(){return new a.PointCloud([this.p1])}length(){return 0}toPath(){return["M",this.p1.x,this.p1.y].join(" ")}toPathFragment(){return["M",this.p1.x,this.p1.y]}transform(t){return this.p1.transformO(t),this}}class m{constructor(t,e,s,r,i,a,c){if(!s||!r)return new E(t,e);s=Math.abs(s),r=Math.abs(r),this.p1=t.clone(),this.p2=e.clone(),this.arc=a?1:0,this.sweep=c?1:0;const h=Math.cos(i/180*Math.PI),l=Math.sin(i/180*Math.PI),d=new n.Point((t.x-e.x)/2,(t.y-e.y)/2).transform((0,o.matrixFactory)(h,-l,l,h,0,0)),u=d.x**2/s**2+d.y**2/r**2;u>1&&(s=Math.sqrt(u)*s,r=Math.sqrt(u)*r);const m=s**2,p=r**2,N=m*d.y**2,g=p*d.x**2,_=m*p-N-g;let f;f=Math.abs(_)<1e-15?new n.Point(0,0):new n.Point(s*d.y/r,-r*d.x/s).mul(Math.sqrt(_/(N+g))),this.arc===this.sweep&&(f=f.mul(-1));const x=f.transform((0,o.matrixFactory)(h,l,-l,h,0,0)).add(new n.Point((t.x+e.x)/2,(t.y+e.y)/2)),T=new n.Point((d.x-f.x)/s,(d.y-f.y)/r),w=new n.Point(1,0).angleTo(T);let y=T.angleTo(new n.Point((-d.x-f.x)/s,(-d.y-f.y)/r));y%=2*Math.PI,!c&&y>0&&(y-=2*Math.PI),c&&y<0&&(y+=2*Math.PI),this.c=x,this.theta=180*w/Math.PI,this.theta2=180*(w+y)/Math.PI,this.delta=180*y/Math.PI,this.rx=s,this.ry=r,this.phi=i,this.cos\u03c6=h,this.sin\u03c6=l}static fromCenterForm(t,e,s,r,i,a){const c=Math.cos(r/180*Math.PI),h=Math.sin(r/180*Math.PI),l=(0,o.matrixFactory)(c,h,-h,c,0,0),d=new n.Point(e*Math.cos(i/180*Math.PI),s*Math.sin(i/180*Math.PI)).transform(l).add(t),u=new n.Point(e*Math.cos((i+a)/180*Math.PI),s*Math.sin((i+a)/180*Math.PI)).transform(l).add(t),p=Math.abs(a)>180?1:0;return new m(d,u,e,s,r,p,a>0?1:0)}bbox(){return this.getCloud().bbox()}clone(){return new m(this.p1,this.p2,this.rx,this.ry,this.phi,this.arc,this.sweep)}getCloud(){if(this.p1.equals(this.p2))return new a.PointCloud([this.p1]);let t=180*Math.atan(-this.sin\u03c6/this.cos\u03c6*this.ry/this.rx)/Math.PI,e=180*Math.atan(this.cos\u03c6/this.sin\u03c6*this.ry/this.rx)/Math.PI,s=this.theta,r=this.theta2;if((s<0||r<0)&&(s+=360,r+=360),r<s){const t=s;s=r,r=t}for(;t-90>t;)t-=90;for(;t<s;)t+=90;for(;e-90>e;)e-=90;for(;e<s;)e+=90;const n=[t,e,t+90,e+90,t+180,e+180,t+270,e+270].filter((function(t){return t>s&&t<r})).map(function(t){for(;this.theta<t;)t-=360;return this.pointAt((t-this.theta)%360/this.delta)}.bind(this)).concat(this.p1,this.p2);return new a.PointCloud(n)}length(){if(this.p1.equals(this.p2))return 0;const t=this.p2.sub(this.p1).abs(),e=this.splitAt(.5),s=e[0].p2.sub(e[0].p1).abs(),r=e[1].p2.sub(e[1].p1).abs();return s+r-t<1e-5?s+r:e[0].length()+e[1].length()}pointAt(t){if(this.p1.equals(this.p2))return this.p1.clone();const e=(this.theta+t*this.delta)/180*Math.PI,s=Math.sin(e),r=Math.cos(e);return new n.Point(this.cos\u03c6*this.rx*r-this.sin\u03c6*this.ry*s+this.c.x,this.sin\u03c6*this.ry*r+this.cos\u03c6*this.rx*s+this.c.y)}splitAt(t){const e=Math.abs(this.delta),s=e*t,r=e*(1-t),n=this.pointAt(t);return[new m(this.p1,n,this.rx,this.ry,this.phi,s>180,this.sweep),new m(n,this.p2,this.rx,this.ry,this.phi,r>180,this.sweep)]}toPath(){return["M",this.p1.x,this.p1.y,"A",this.rx,this.ry,this.phi,this.arc,this.sweep,this.p2.x,this.p2.y].join(" ")}toPathFragment(){return["A",this.rx,this.ry,this.phi,this.arc,this.sweep,this.p2.x,this.p2.y]}toString(){return`p1: ${this.p1.x.toFixed(4)} ${this.p1.y.toFixed(4)}, p2: ${this.p2.x.toFixed(4)} ${this.p2.y.toFixed(4)}, c: ${this.c.x.toFixed(4)} ${this.c.y.toFixed(4)} theta: ${this.theta.toFixed(4)}, theta2: ${this.theta2.toFixed(4)}, delta: ${this.delta.toFixed(4)}, large: ${this.arc}, sweep: ${this.sweep}`}transform(t){return new m(this.p1.transform(t),this.p2.transform(t),this.rx,this.ry,this.phi,this.arc,this.sweep)}}class p{constructor(t,e,s,r){t instanceof n.Point?(this.p1=new n.Point(t),this.c1=new n.Point(e),this.c2=new n.Point(s),this.p2=new n.Point(r)):(this.p1=new n.Point(t.p1),this.c1=new n.Point(t.c1),this.c2=new n.Point(t.c2),this.p2=new n.Point(t.p2))}static fromQuad(t,e,s){const r=t.mul(1/3).add(e.mul(2/3)),n=e.mul(2/3).add(s.mul(1/3));return new p(t,r,n,s)}bbox(){return this.getCloud().bbox()}findRoots(){return this.findRootsX().concat(this.findRootsY())}findRootsX(){return this.findRootsXY(this.p1.x,this.c1.x,this.c2.x,this.p2.x)}findRootsXY(t,e,s,r){const n=3*(3*e-t-3*s+r),i=6*(t-2*e+s),o=3*(e-t);return 0===n?[-o/i].filter((function(t){return t>0&&t<1})):i*i-4*n*o<0?[]:i*i-4*n*o===0?[Math.round(-i/(2*n)*1e5)/1e5].filter((function(t){return t>0&&t<1})):[Math.round((-i+Math.sqrt(i*i-4*n*o))/(2*n)*1e5)/1e5,Math.round((-i-Math.sqrt(i*i-4*n*o))/(2*n)*1e5)/1e5].filter((function(t){return t>0&&t<1}))}findRootsY(){return this.findRootsXY(this.p1.y,this.c1.y,this.c2.y,this.p2.y)}flatness(){let t=Math.pow(3*this.c1.x-2*this.p1.x-this.p2.x,2),e=Math.pow(3*this.c1.y-2*this.p1.y-this.p2.y,2);const s=Math.pow(3*this.c2.x-2*this.p2.x-this.p1.x,2),r=Math.pow(3*this.c2.y-2*this.p2.y-this.p1.y,2);return t<s&&(t=s),e<r&&(e=r),t+e}getCloud(){const t=this.findRoots().filter((t=>0!==t&&1!==t)).map((t=>this.pointAt(t))).concat(this.p1,this.p2);return new a.PointCloud(t)}length(){return this.lengthAt()}lengthAt(t=1){const e=this.splitAt(t)[0].makeFlat(t);let s=0;for(let r=0,n=e.length;r<n;++r)s+=e[r].p2.sub(e[r].p1).abs();return s}makeFlat(t){return this.flatness()>.15?this.splitAt(.5).map((function(e){return e.makeFlat(.5*t)})).reduce((function(t,e){return t.concat(e)}),[]):(this.t_value=t,[this])}pointAt(t){return new n.Point((1-t)*(1-t)*(1-t)*this.p1.x+3*(1-t)*(1-t)*t*this.c1.x+3*(1-t)*t*t*this.c2.x+t*t*t*this.p2.x,(1-t)*(1-t)*(1-t)*this.p1.y+3*(1-t)*(1-t)*t*this.c1.y+3*(1-t)*t*t*this.c2.y+t*t*t*this.p2.y)}splitAt(t){const e=this.splitAtScalar(t,"x"),s=this.splitAtScalar(t,"y");return[new p(new n.Point(e[0][0],s[0][0]),new n.Point(e[0][1],s[0][1]),new n.Point(e[0][2],s[0][2]),new n.Point(e[0][3],s[0][3])),new p(new n.Point(e[1][0],s[1][0]),new n.Point(e[1][1],s[1][1]),new n.Point(e[1][2],s[1][2]),new n.Point(e[1][3],s[1][3]))]}splitAtScalar(t,e){const s=this.p1[e],r=this.c1[e],n=this.c2[e],i=this.p2[e],o=t*t*t*i-3*t*t*(t-1)*n+3*t*(t-1)*(t-1)*r-(t-1)*(t-1)*(t-1)*s;return[[s,t*r-(t-1)*s,t*t*n-2*t*(t-1)*r+(t-1)*(t-1)*s,o],[o,t*t*i-2*t*(t-1)*n+(t-1)*(t-1)*r,t*i-(t-1)*n,i]]}toPath(){return["M",this.p1.x,this.p1.y].concat(this.toPathFragment()).join(" ")}toPathFragment(){return["C",this.c1.x,this.c1.y,this.c2.x,this.c2.y,this.p2.x,this.p2.y]}transform(t){return this.p1.transformO(t),this.c1.transformO(t),this.c2.transformO(t),this.p2.transformO(t),this}}class E{constructor(t,e,s,r){t instanceof Object?(this.p1=new n.Point(t),this.p2=new n.Point(e)):(this.p1=new n.Point(t,e),this.p2=new n.Point(s,r))}bbox(){return this.getCloud().bbox()}getCloud(){return new a.PointCloud([this.p1,this.p2])}length(){return this.p2.sub(this.p1).abs()}pointAt(t){const e=this.p2.sub(this.p1).mul(t);return this.p1.add(e)}toPath(){return["M",this.p1.x,this.p1.y,this.p2.x,this.p2.y].join(" ")}toPathFragment(){return["L",this.p2.x,this.p2.y]}transform(t){return this.p1.transformO(t),this.p2.transformO(t),this}}const N=function(t){return d(t).reduce(((t,e)=>t.merge(e.bbox())),new r.NoBox)};class g extends Array{bbox(){return this.reduce(((t,e)=>t.merge(e.bbox())),new r.NoBox)}cloud(){return this.reduce(((t,e)=>e.getCloud().merge(t)),new a.PointCloud)}merge(t){return this.concat(t)}transform(t){return this.map((e=>e.transform(t)))}}const _=function(t){return new g(...d(t))},f=function(t,e){const s=d(t),r=s.map((t=>t.length())),n=r.reduce(((t,e)=>t+e),0);let i=0,o=e/n;if(o>=1)return s[s.length-1].p2?s[s.length-1].p2.native():s[s.length-1].p1.native();if(o<=0)return s[0].p1.native();for(;s[s.length-1]instanceof u;)s.pop();let a=0;for(const c=r.length;i<c;++i){if(a+=r[i]/n,a>o)break}return o=n/r[i]*(o-a)+1,s[i].pointAt(o).native()},x=function(t){return d(t).reduce(((t,e)=>t+e.length()),0)},T=function(t){const e=d(t.getAttribute("d")),s={paths:e.map((t=>t.toPath())),fragments:e.map((t=>t.toPathFragment().join(" "))),bboxs:e.map((t=>{const e=t.bbox();return[e.x,e.y,e.width,e.height]})),bbox:e.reduce(((t,e)=>t.merge(e.bbox())),new r.NoBox),bboxsTransformed:e.map((e=>e.getCloud().transform(t.matrixify()).bbox()))};return Object.assign({},s,{bboxTransformed:s.bboxsTransformed.reduce(((t,e)=>t.merge(e)),new r.NoBox)})},w=t=>d(t).reduce(((t,e)=>e.getCloud().merge(t)),new a.PointCloud),y={box({x:t,y:e,width:s,height:r}){return`M ${t} ${e} h ${s} v ${r} H ${t} V ${e}`},rect(t){const e=parseFloat(t.getAttribute("width"))||0,s=parseFloat(t.getAttribute("height"))||0,r=parseFloat(t.getAttribute("x"))||0,n=parseFloat(t.getAttribute("y"))||0;return`M ${r} ${n} h ${e} v ${s} H ${r} V ${n}`},circle(t){const e=parseFloat(t.getAttribute("r"))||0,s=parseFloat(t.getAttribute("cx"))||0,r=parseFloat(t.getAttribute("cy"))||0;return 0===e?"M0 0":`M ${s-e} ${r} A ${e} ${e} 0 0 0 ${s+e} ${r} A ${e} ${e} 0 0 0 ${s-e} ${r}`},ellipse(t){const e=parseFloat(t.getAttribute("rx"))||0,s=parseFloat(t.getAttribute("ry"))||0,r=parseFloat(t.getAttribute("cx"))||0,n=parseFloat(t.getAttribute("cy"))||0;return`M ${r-e} ${n} A ${e} ${s} 0 0 0 ${r+e} ${n} A ${e} ${s} 0 0 0 ${r-e} ${n}`},line(t){const e=parseFloat(t.getAttribute("x1"))||0,s=parseFloat(t.getAttribute("x2"))||0;return`M ${e} ${parseFloat(t.getAttribute("y1"))||0} L ${s} ${parseFloat(t.getAttribute("y2"))||0}`},polygon(t){return`M ${t.getAttribute("points")} z`},polyline(t){return`M ${t.getAttribute("points")}`}}},"./src/utils/regex.js":(t,e,s)=>{s.r(e),s.d(e,{delimiter:()=>n,dots:()=>h,hyphen:()=>i,isPathLetter:()=>a,numbersWithDots:()=>c,pathLetters:()=>o,transforms:()=>r});const r=/\)\s*,?\s*/,n=/[\s,]+/,i=/([^e])-/gi,o=/[MLHVCSQTAZ]/gi,a=/[MLHVCSQTAZ]/i,c=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,h=/\./g},"./src/utils/strUtils.js":(t,e,s)=>{s.r(e),s.d(e,{camelCase:()=>o,cdata:()=>l,comment:()=>d,decamelize:()=>i,fullHex:()=>r,hexToRGB:()=>n,htmlEntities:()=>c,removeQuotes:()=>a,splitNotInBrackets:()=>u,unhtmlEntities:()=>h});const r=function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t},n=function(t){if(typeof t instanceof Map){for(const[e,s]of t)t.set(e,n(s));return t}return/#[0-9a-f]{3,6}/.test(t)?(t=r(t),"rgb("+[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16)].join(",")+")"):t};function i(t){return String(t).replace(/([a-z])([A-Z])/g,(function(t,e,s){return e+"-"+s.toLowerCase()}))}function o(t){return String(t).replace(/([a-z])-([a-z])/g,(function(t,e,s){return e+s.toUpperCase()}))}function a(t){return t.startsWith('"')||t.startsWith("'")?t.slice(1,-1):t}function c(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function h(t){return String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace("&quot;",'"')}function l(t){return`<![CDATA[${t}]]>`}function d(t){return`\x3c!--${t}--\x3e`}const u=(t,e)=>{var s,r,n,i=0,o=0,a=0,c=[];for(r=0,n=t.length;r<n;++r)(s=t.charAt(r))!==e||i||o?"("===s?++i:")"===s?--i:"["===s?++o:"]"===s&&--o:(c.push(t.slice(a,r).trim()),a=r+1);return c.push(t.slice(a).trim()),c}},"./src/utils/tagUtils.js":(t,e,s)=>{s.r(e),s.d(e,{cloneNode:()=>i,tag:()=>n});var r={br:!0,hr:!0,img:!0,link:!0};const n=function(t){const e=[...t.attrs].map((function(t){return(t.prefix?t.prefix+":":"")+t.localName+'="'+(e=t.value,String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"');var e})),{prefix:s,localName:n}=t,i=(s?s+":":"")+n;return"<"+[].concat(i,e).join(" ")+">"+(r[i.toLowerCase()]?"":t.innerHTML+"</"+i+">")},i=function(t){const{prefix:e,localName:s,namespaceURI:r,nodeValue:n,ownerDocument:i}=t,o=(e?e+":":"")+s,a=s.includes(":");var c=new t.constructor(o,{attrs:new Set([...t.attrs].map((t=>t.cloneNode()))),nodeValue:n,ownerDocument:i,local:a},r);return c}},"./src/utils/textUtils.js":(t,e,s)=>{s.r(e),s.d(e,{textBBox:()=>c});var r=s("path"),n=s("fontkit"),i=s("./src/utils/defaults.js"),o=s("./src/other/Box.js"),a=s("./src/config.js");const c=function(t,e,s,c){if(!t)return new o.NoBox;const h=(0,a.getConfig)(),l=(0,a.getFonts)();for(var d,u,m=(c.fontFamily||i.fontFamily).split(/\s*,\s*/),p=Object.assign({},i.fontFamilyMappings,h.fontFamilyMappings),E=c.fontSize||i.fontSize,N=h.fontDir||i.fontDir,g=0,_=m.length;g<_;++g)if(p[m[g]]){d=m[g];break}if(d||(d=i.fontFamily),l[d])u=l[d];else{const t=r.join(N,p[d]);try{u=n.openSync(t)}catch(S){return console.warn(`Could not open font "${d}" in file "${t}". ${S.toString()}`),new o.NoBox}l[d]=u}var f=u.ascent-u.descent,x=(f>u.unitsPerEm?f:f+u.lineGap)/u.unitsPerEm*E,T=u.layout(t).glyphs.reduce(((t,e)=>t+e.advanceWidth),0)/u.unitsPerEm*E,w=0;"end"===c.textAnchor?w=-T:"middle"===c.textAnchor&&(w=-T/2);var y=u.ascent;return"before-edge"===c.dominantBaseline||"text-before-edge"===c.dominantBaseline?y=0:"hanging"===c.dominantBaseline?y=u.ascent-u.xHeight-u.capHeight:"mathematical"===c.dominantBaseline?y=u.ascent-u.xHeight:"middle"===c.dominantBaseline?y=u.ascent-u.xHeight/2:"central"===c.dominantBaseline?y=u.ascent/2+u.descent/2:"ideographic"===c.dominantBaseline&&(y=u.ascent+u.descent),new o.Box(e+w,s-y/u.unitsPerEm*E,T,x)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__webpack_require__),s.exports}__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Attr:()=>e.Attr,CharacterData:()=>s.CharacterData,Comment:()=>r.Comment,CustomEvent:()=>n.CustomEvent,DOMImplementation:()=>i.DOMImplementation,Document:()=>i.Document,DocumentFragment:()=>o.DocumentFragment,Element:()=>a.Element,Event:()=>c.Event,EventTarget:()=>h.EventTarget,HTMLElement:()=>p.HTMLElement,HTMLImageElement:()=>E.HTMLImageElement,HTMLLinkElement:()=>N.HTMLLinkElement,HTMLParser:()=>g.HTMLParser,HTMLScriptElement:()=>_.HTMLScriptElement,Node:()=>l.Node,NodeFilter:()=>d.NodeFilter,ParentNode:()=>x.ParentNode,SVGElement:()=>T.SVGElement,SVGGraphicsElement:()=>w.SVGGraphicsElement,SVGMatrix:()=>y.SVGMatrix,SVGPathElement:()=>S.SVGPathElement,SVGPoint:()=>b.SVGPoint,SVGSVGElement:()=>M.SVGSVGElement,SVGTextContentElement:()=>j.SVGTextContentElement,Text:()=>u.Text,Window:()=>m.Window,config:()=>C.config,createDocument:()=>G.createDocument,createHTMLDocument:()=>G.createHTMLDocument,createHTMLWindow:()=>G.createHTMLWindow,createSVGDocument:()=>G.createSVGDocument,createSVGWindow:()=>G.createSVGWindow,createWindow:()=>G.createWindow,defaults:()=>t,elementAccess:()=>f.elementAccess,getConfig:()=>C.getConfig,getFonts:()=>C.getFonts,matrixFactory:()=>y.matrixFactory,preloadFonts:()=>C.preloadFonts,setFontDir:()=>C.setFontDir,setFontFamilyMappings:()=>C.setFontFamilyMappings});var t=__webpack_require__("./src/utils/defaults.js"),e=__webpack_require__("./src/dom/Attr.js"),s=__webpack_require__("./src/dom/CharacterData.js"),r=__webpack_require__("./src/dom/Comment.js"),n=__webpack_require__("./src/dom/CustomEvent.js"),i=__webpack_require__("./src/dom/Document.js"),o=__webpack_require__("./src/dom/DocumentFragment.js"),a=__webpack_require__("./src/dom/Element.js"),c=__webpack_require__("./src/dom/Event.js"),h=__webpack_require__("./src/dom/EventTarget.js"),l=__webpack_require__("./src/dom/Node.js"),d=__webpack_require__("./src/dom/NodeFilter.js"),u=__webpack_require__("./src/dom/Text.js"),m=__webpack_require__("./src/dom/Window.js"),p=__webpack_require__("./src/dom/html/HTMLElement.js"),E=__webpack_require__("./src/dom/html/HTMLImageElement.js"),N=__webpack_require__("./src/dom/html/HTMLLinkElement.js"),g=__webpack_require__("./src/dom/html/HTMLParser.js"),_=__webpack_require__("./src/dom/html/HTMLScriptElement.js"),f=__webpack_require__("./src/dom/mixins/elementAccess.js"),x=__webpack_require__("./src/dom/mixins/ParentNode.js"),T=__webpack_require__("./src/dom/svg/SVGElement.js"),w=__webpack_require__("./src/dom/svg/SVGGraphicsElement.js"),y=__webpack_require__("./src/dom/svg/SVGMatrix.js"),S=__webpack_require__("./src/dom/svg/SVGPathElement.js"),b=__webpack_require__("./src/dom/svg/SVGPoint.js"),M=__webpack_require__("./src/dom/svg/SVGSVGElement.js"),j=__webpack_require__("./src/dom/svg/SVGTextContentElement.js"),C=__webpack_require__("./src/config.js"),G=__webpack_require__("./src/factories.js")})();var __webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();